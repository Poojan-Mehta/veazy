<div class="hbox hbox-auto-xs hbox-auto-sm" data-ng-controller="adddocCtrl"
     data-ng-if="is_main_user == 1 || document_dis_permission.main_menu_id =='10.3'">
    <div class="col">
        <div class="bg-light lter b-b wrapper-md">
            <div class="row">
                <div class="col-sm-6 col-xs-12">
                    <h1 class="m-n font-thin h3 text-black">{{pagename}}</h1>
                </div>
            </div>
        </div>
        <div class="wrapper-md ng-scope">
            <div class="panel panel-default">
                <div class="panel-body">
                    <form class="form-horizontal ng-valid ng-valid-date ng-valid-required ng-valid-date-disabled ng-dirty ng-valid-parse"
                          name="catform" novalidate>
                        <div class="control-group">
                            <!--folder start-->
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Select Folder<span
                                        class="text-danger">*</span></label>
                                <div class="col-sm-5">
                                    <select class="form-control" name="iPkFolderId" data-ng-model="iPkFolderId"
                                            ng-change="getchange(iPkFolderId)" id="iPkFolderId" required
                                            data-ng-options="option.iPkFolderId as option.vFolderName for option in getFolder"
                                            ng-disabled="isDisabled">
                                        <option value="">Select Folder</option>
                                    </select>
                                    <span data-ng-show="submitted && catform.iPkFolderId.$invalid">
                                            <span class="text-danger" data-ng-show="catform.iPkFolderId.$error.required">Select Folder</span>
                                    </span>
                                </div>
                            </div>
                            <!--folder end-->

                            <div class="form-group">
                                <label class="col-sm-2 control-label">Select Category<span class="text-danger">*</span></label>
                                <div class="col-sm-5">
                                    <select class="form-control" name="iDocumentCategoryId"
                                            data-ng-model="iDocumentCategoryId" id="iDocumentCategoryId" required
                                            data-ng-options="option.iPkDocCatId as option.vDocCat for option in getDocumentCategory"
                                            ng-disabled="isDisabled">
                                        <option value="">Select Category</option>
                                    </select>
                                    <span data-ng-show="submitted && catform.iDocumentCategoryId.$invalid">
                                        <span class="text-danger"
                                              data-ng-show="catform.iDocumentCategoryId.$error.required">Select Document</span>
                                    </span>
                                </div>
                            </div>

                            <!--<div class="form-group">-->
                                <!--<label class="col-sm-2 control-label">Document Name</label>-->
                                <!--<div class="col-sm-5">-->
                                    <!--<input type="text" class="form-control" name="DocumentName"-->
                                           <!--data-ng-model="DocumentName"-->
                                           <!--placeholder="Document Name" required ng-disabled="isDisabled">-->
                                    <!--<span data-ng-show="submitted && catform.DocumentName.$invalid">-->
                                        <!--<span class="text-danger" data-ng-show="catform.DocumentName.$error.required">{{general.required}}</span>-->
                                    <!--</span>-->
                                <!--</div>-->
                            <!--</div>-->

                            <div class="form-group">
                                <label class="col-sm-2 control-label">Document Name</label>
                                <div class="col-sm-8">
                                    <div text-angular ta-max-text="50" ng-maxlength="50" data-ng-model="DocumentName"
                                         name="DocumentName" class="btn-groups" required></div>
                                </div>
                                <div class="col-sm-8">

                                    <span data-ng-show="submitted && catform.DocumentName.$invalid">
                                            <span class="text-danger" style="padding-left: 210px;"
                                                  data-ng-show="catform.DocumentName.$invalid">Name is Either Empty or Too long</span>
                                    </span>
                                </div>
                            </div>
                            <span class="text-success " style="padding-left: 210px;">Note: Document Name Allow Only 50 Characters</span><br><br>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Document Suggestion</label>
                                <div class="col-sm-8">
                                    <div text-angular ta-max-text="500" data-ng-model="documentSuggestion"
                                         name="documentSuggestion" class="btn-groups"></div>
                                    <!--<textarea class="form-control" name="documentSuggestion" data-ng-model="documentSuggestion"-->
                                    <!--placeholder="Document Suggestion" required ng-disabled="isDisabled"></textarea>-->
                                    <!--<span data-ng-show="submitted && catform.documentSuggestion.$invalid">-->
                                    <!--<span class="text-danger" data-ng-show="catform.documentSuggestion.$error.required">{{general.required}}</span>-->
                                    <!--</span>-->
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">Document Guide</label>
                                <div class="col-sm-8">
                                    <div text-angular ta-max-text="500" data-ng-model="DocumentGuide"
                                         name="DocumentGuide" class="btn-groups"></div>
                                    <!--<textarea class="form-control" name="documentSuggestion" data-ng-model="documentSuggestion"-->
                                    <!--placeholder="Document Suggestion" required ng-disabled="isDisabled"></textarea>-->
                                    <!--<span data-ng-show="submitted && catform.documentSuggestion.$invalid">-->
                                    <!--<span class="text-danger" data-ng-show="catform.documentSuggestion.$error.required">{{general.required}}</span>-->
                                    <!--</span>-->
                                </div>
                            </div>

                            <!--<div class="form-group">-->
                                <!--<label class="col-sm-2 control-label">Document Guide</label>-->
                                <!--<div class="col-sm-8">-->
                                    <!--<textarea class="form-control" name="DocumentGuide" data-ng-model="DocumentGuide"-->
                                              <!--placeholder="Document Guide" required ng-disabled="isDisabled"></textarea>-->
                                    <!--<span data-ng-show="submitted && catform.DocumentGuide.$invalid">-->
                                        <!--<span class="text-danger" data-ng-show="catform.DocumentGuide.$error.required">{{general.required}}</span>-->
                                    <!--</span>-->
                                <!--</div>-->
                            <!--</div>-->
                            <div class="line line-dashed b-b line-lg pull-in"></div>
                            <div class="form-group">
                                <div class="col-sm-9 col-sm-offset-2">
                                    <button class="btn btn-info btn-addon" data-ng-if="isDisabled"
                                            ng-click="editTitleDescription()"><i class="fa fa-edit"></i>Edit
                                    </button>
                                    <button class="btn btn-addon btn-success" data-ng-if="!isDisabled"
                                            data-ng-disabled="flag" ng-click="add_cat_form(catform.$valid)"><i
                                            class="fa fa-save"></i> {{general.btnsave}}
                                    </button>
                                    <button class="btn btn-danger" ui-sref="app.document">{{general.btncancel}}</button>
                                </div>
                            </div>
                        </div>
                        <div class="control-group" data-ng-show="iPkDocId">
                            <form class="form-horizontal ng-valid ng-valid-date ng-valid-required ng-valid-date-disabled ng-dirty ng-valid-parse"
                                  name="templateFileForm" novalidate>
                                <div class="col-sm-6">
                                    <div class="panel-heading font-bold text-uppercase">Add Template</div>
                                    <div class="form-group"></div>
                                    <div class="form-group"></div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Select Template</label>
                                        <div class="col-sm-9">
                                            <input ui-jq="filestyle" type="file" ng-disabled="!isDisabled"
                                                   data-icon="false"
                                                   onchange="angular.element(this).scope().uploadResources(this.files,'ResourcesFiles')"
                                                   data-classButton="btn btn-default"
                                                   data-ng-model="ResourcesFiles"
                                                   data-classInput="form-control inline v-middle input-s">
                                            <span class="text-success">Accept only *.png, *.jpg, *.pdf, *.doc</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12">
                                            <div class="pull-right">
                                                <button type="submit"
                                                        class="btn_orange btn m-b-xs btn-sm btn-primary btn-addon"
                                                        data-ng-click="addResourceFiles()"
                                                        ng-disabled="!isDisabled || subflag">
                                                    <span data-ng-if="subflag"><i id="spin"
                                                                                  class="fa fa-spin fa-spinner hide show inline"></i>Uploading...</span>
                                                    <span data-ng-if="!subflag"><i class="fa fa-plus"></i>Upload Template</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="col-sm-6">
                                <div class="panel-heading font-bold text-uppercase">Template List</div>
                                <div class="form-group"></div>
                                <div class="form-group"></div>
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th class="text-center text-uppercase">Sr No.</th>
                                        <th class="text-uppercase">Template File</th>
                                        <th class="text-uppercase">File Type</th>
                                        <th class="text-center text-uppercase">Action</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in displayedCollections">
                                        <td class="text-center">{{$index +1}}</td>
                                        <td>
                                            <span class="fa fa-file-word-o"
                                                  data-ng-if="row.eDocFileType=='DOC'"> {{row.vDocTemplateFile}}</span>
                                            <span class="fa fa-file-pdf-o"
                                                  data-ng-if="row.eDocFileType=='PDF'"> {{row.vDocTemplateFile}}</span>
                                            <span class="fa fa-file-word-o"
                                                  data-ng-if="row.eDocFileType=='DOCX'"> {{row.vDocTemplateFile}}</span>
                                            <span class="fa fa-file-excel-o"
                                                  data-ng-if="row.eDocFileType=='XLSX'"> {{row.vDocTemplateFile}}</span>
                                            <span class="fa fa-file-image-o"
                                                  data-ng-if="row.eDocFileType=='IMAGE'"> {{row.vDocTemplateFile}}</span>
                                        </td>
                                        <td>{{row.eDocFileType}}</td>
                                        <td class="text-center">
                                            <button class="btn m-b-xs btn-sm btn-info btn-danger"
                                                    ng-click="removeItem(row.iPkDocTemplateId)"><i
                                                    class="fa fa-trash-o"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="4" class="text-center"
                                            data-ng-if="displayedCollections.length == 0 || displayedCollections.length == undefined">
                                            <span>No templates are available</span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

